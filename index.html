<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/style.css">
    <title>Bill 导航</title>
</head>
<body>
    <header></header>
    <main >
        <div id="mainFather" class="wapper">

        </div>

    </main>
    <footer></footer>
    <script>
        var keys ={
            0:['q','w','e','r','t','y','u','i','o','p'],
            1:['a','s','d','f','g','h','j','k','l'],
            2:['z','x','c','v','b','n','m'],
            'length':3
        }
        var hash={
            q: 'www.baidu.com', w: 'www.so.com', a: 'www.sougou.com',s: 'www.shenma.com',
            d: 'www.github.com', f: 'www.sina.com',e: 'www.souhu.com',
            r: 'www.so.com',g: 'www.sougou.com',h: 'www.sina.com', z: 'www.baidu.com',
            x: 'www.github.com', c: 'www.sougou.com', m: 'www.souhu.com',
        }
        //取出localStorage 中的huancun对应的hash
        var hashInlocalStorage=JSON.parse(localStorage.getItem('huancun' || 'null'))
        if(hashInlocalStorage){
            hash=hashInlocalStorage
        }

        //遍历keys,生成kbd标签
         index = 0
         while(index < keys['length']){

            div111=document.createElement('div')
            mainFather.appendChild(div111)

            row=keys[index]

            index2=0
            while(index2<row['length']){
                kbd=document.createElement('kbd')
                kbd.textContent=row[index2]
                

                change=document.createElement('button')
                change.textContent="E"
                change.id=row[index2]

                change.onclick=function(xzkjcnxlkcjlk){
                    key=xzkjcnxlkcjlk['target']['id']
                    input=prompt('请输入你想替换的网址')
                    hash[key]=input//变更hash
                    //将hash存档，方便用户刷新时读档
                    localStorage.setItem('huancun',JSON.stringify(hash))

                }
                kbd.appendChild(change)
                div111.appendChild(kbd)
                index2=index2+1
            }     

            index=index+1
         }

         document.onkeypress=function(xzkjcnxlkcjlk){
            key=xzkjcnxlkcjlk['key']
            website=hash[key]
            console.log(website);
            
            // location.href=website
            // 如果hash值中没有加http
            // 可以写成location.href='http//'+website
            // 默认不开一个新窗口
            window.open('http://'+website,'_blank')

         }
        
    </script>
</body>
</html>